<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module opcServer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>opcServer</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/mnt/c/Users/automatizacion/Desktop/Git%20Projects/Production-Data-App/data_acquisition/opcServer.py">/mnt/c/Users/automatizacion/Desktop/Git Projects/Production-Data-App/data_acquisition/opcServer.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="snap7.client.html">snap7.client</a><br>
<a href="ctypes.html">ctypes</a><br>
<a href="datetime.html">datetime</a><br>
</td><td width="25%" valign=top><a href="time.html">time</a><br>
<a href="logging.html">logging</a><br>
<a href="psycopg2.html">psycopg2</a><br>
</td><td width="25%" valign=top><a href="re.html">re</a><br>
<a href="snap7.six.html">snap7.six</a><br>
<a href="struct.html">struct</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-AKS"><strong>AKS</strong></a>(plc)</dt><dd><tt>Python&nbsp;tells&nbsp;plc&nbsp;that&nbsp;the&nbsp;data&nbsp;has&nbsp;been&nbsp;stored&nbsp;succesfully&nbsp;so&nbsp;the&nbsp;plc&nbsp;can&nbsp;erase&nbsp;it</tt></dd></dl>
 <dl><dt><a name="-ReadMemory"><strong>ReadMemory</strong></a>(plc, byte, bit, datatype)</dt><dd><tt>Read&nbsp;internal&nbsp;memory&nbsp;variables&nbsp;from&nbsp;PLC.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;plc:&nbsp;plc&nbsp;object<br>
&nbsp;&nbsp;&nbsp;&nbsp;byte:&nbsp;byte&nbsp;in&nbsp;which&nbsp;data&nbsp;is&nbsp;stored<br>
&nbsp;&nbsp;&nbsp;&nbsp;bit:&nbsp;bit&nbsp;in&nbsp;which&nbsp;data&nbsp;is&nbsp;stored&nbsp;(in&nbsp;case&nbsp;of)<br>
&nbsp;&nbsp;&nbsp;&nbsp;datatype:&nbsp;variable&nbsp;data&nbsp;type&nbsp;(refer&nbsp;to&nbsp;snap7types)<br>
&nbsp;<br>
returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Variable&nbsp;from&nbsp;plc.</tt></dd></dl>
 <dl><dt><a name="-WriteMemory"><strong>WriteMemory</strong></a>(plc, byte, bit, datatype, value)</dt><dd><tt>Write&nbsp;into&nbsp;internal&nbsp;memory&nbsp;variables&nbsp;of&nbsp;PLC.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;plc:&nbsp;plc&nbsp;object<br>
&nbsp;&nbsp;&nbsp;&nbsp;byte:&nbsp;byte&nbsp;in&nbsp;which&nbsp;data&nbsp;is&nbsp;stored<br>
&nbsp;&nbsp;&nbsp;&nbsp;bit:&nbsp;bit&nbsp;in&nbsp;which&nbsp;data&nbsp;is&nbsp;stored&nbsp;(in&nbsp;case&nbsp;of)<br>
&nbsp;&nbsp;&nbsp;&nbsp;datatype:&nbsp;variable&nbsp;data&nbsp;type&nbsp;(refer&nbsp;to&nbsp;snap7types)<br>
&nbsp;&nbsp;&nbsp;&nbsp;value:&nbsp;new&nbsp;value&nbsp;of&nbsp;variable</tt></dd></dl>
 <dl><dt><a name="-checkStart"><strong>checkStart</strong></a>(plc)</dt><dd><tt>Checks&nbsp;if&nbsp;a&nbsp;machine&nbsp;has&nbsp;already&nbsp;started&nbsp;working.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;plc:&nbsp;plc&nbsp;object<br>
&nbsp;<br>
returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Dictionary&nbsp;with&nbsp;the&nbsp;boolean&nbsp;state&nbsp;of&nbsp;each&nbsp;machine.</tt></dd></dl>
 <dl><dt><a name="-closeSQL"><strong>closeSQL</strong></a>(conn, cur)</dt><dd><tt>Closes&nbsp;the&nbsp;connection&nbsp;to&nbsp;the&nbsp;database.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;cur:&nbsp;object&nbsp;that&nbsp;handles&nbsp;queries<br>
&nbsp;&nbsp;&nbsp;&nbsp;conn:&nbsp;object&nbsp;with&nbsp;connection&nbsp;to&nbsp;db</tt></dd></dl>
 <dl><dt><a name="-connectPLC"><strong>connectPLC</strong></a>(ipadress)</dt><dd><tt>Connects&nbsp;via&nbsp;OPC&nbsp;to&nbsp;plc.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipadress:&nbsp;ip&nbsp;adress&nbsp;of&nbsp;the&nbsp;plc's&nbsp;network&nbsp;card<br>
&nbsp;<br>
returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;plc:&nbsp;object&nbsp;with&nbsp;connection&nbsp;to&nbsp;plc<br>
&nbsp;&nbsp;&nbsp;&nbsp;status:&nbsp;Message&nbsp;with&nbsp;status&nbsp;of&nbsp;the&nbsp;connection&nbsp;to&nbsp;plc</tt></dd></dl>
 <dl><dt><a name="-connectSQL"><strong>connectSQL</strong></a>(user, password, host, database)</dt><dd><tt>Connects&nbsp;to&nbsp;the&nbsp;server's&nbsp;data&nbsp;base.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;user:&nbsp;name&nbsp;of&nbsp;the&nbsp;data&nbsp;base&nbsp;manager<br>
&nbsp;&nbsp;&nbsp;&nbsp;password:&nbsp;password&nbsp;of&nbsp;the&nbsp;data&nbsp;base&nbsp;manager<br>
&nbsp;&nbsp;&nbsp;&nbsp;host:&nbsp;address&nbsp;in&nbsp;which&nbsp;the&nbsp;database&nbsp;is&nbsp;located<br>
&nbsp;&nbsp;&nbsp;&nbsp;database:&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;data&nbsp;base&nbsp;we&nbsp;want&nbsp;to&nbsp;connect<br>
&nbsp;<br>
returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;cur:&nbsp;object&nbsp;that&nbsp;handles&nbsp;queries<br>
&nbsp;&nbsp;&nbsp;&nbsp;conn:&nbsp;object&nbsp;with&nbsp;connection&nbsp;to&nbsp;db</tt></dd></dl>
 <dl><dt><a name="-emptyTable"><strong>emptyTable</strong></a>(cur)</dt><dd><tt>Erase&nbsp;all&nbsp;the&nbsp;values&nbsp;in&nbsp;the&nbsp;db&nbsp;tables</tt></dd></dl>
 <dl><dt><a name="-endOfShift"><strong>endOfShift</strong></a>(plc)</dt><dd><tt>Gets&nbsp;a&nbsp;boolean&nbsp;from&nbsp;plc&nbsp;indicating&nbsp;if&nbsp;the&nbsp;shift&nbsp;has&nbsp;ended</tt></dd></dl>
 <dl><dt><a name="-getHourPos"><strong>getHourPos</strong></a>()</dt><dd><tt>Gets&nbsp;the&nbsp;number&nbsp;of&nbsp;actual&nbsp;hour&nbsp;(First&nbsp;hour,&nbsp;second&nbsp;hour,&nbsp;etc...)</tt></dd></dl>
 <dl><dt><a name="-getMachine"><strong>getMachine</strong></a>(id)</dt><dd><tt>Gets&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;machine.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;id:&nbsp;key&nbsp;string&nbsp;of&nbsp;a&nbsp;machine<br>
&nbsp;<br>
returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;containing&nbsp;the&nbsp;machine's&nbsp;name.</tt></dd></dl>
 <dl><dt><a name="-getProductionData"><strong>getProductionData</strong></a>(plc)</dt><dd><tt>Retrieves&nbsp;all&nbsp;the&nbsp;production&nbsp;(hits)&nbsp;of&nbsp;each&nbsp;machine.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;plc:&nbsp;plc&nbsp;object<br>
&nbsp;<br>
returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Dictionary&nbsp;with&nbsp;each&nbsp;machine's&nbsp;hits</tt></dd></dl>
 <dl><dt><a name="-getQuery"><strong>getQuery</strong></a>(hourx)</dt><dd><tt>Auxiliar&nbsp;function&nbsp;that&nbsp;returns&nbsp;a&nbsp;string&nbsp;query&nbsp;based&nbsp;in&nbsp;the&nbsp;actual&nbsp;hour&nbsp;number&nbsp;(see&nbsp;getHourPos)</tt></dd></dl>
 <dl><dt><a name="-getShift"><strong>getShift</strong></a>(plc)</dt><dd><tt>Gets&nbsp;the&nbsp;shift&nbsp;number&nbsp;from&nbsp;plc<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;plc:&nbsp;plc&nbsp;object&nbsp;with&nbsp;connection&nbsp;to&nbsp;real&nbsp;plc<br>
&nbsp;<br>
returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Shift&nbsp;integer&nbsp;(1:&nbsp;morning,&nbsp;2:&nbsp;evening,&nbsp;3:&nbsp;night)</tt></dd></dl>
 <dl><dt><a name="-getStartTime"><strong>getStartTime</strong></a>(plc, machine)</dt><dd><tt>Retrieves&nbsp;hour,&nbsp;time&nbsp;and&nbsp;second&nbsp;a&nbsp;machine&nbsp;start&nbsp;time.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;plc:&nbsp;plc&nbsp;object<br>
&nbsp;&nbsp;&nbsp;&nbsp;machine:&nbsp;the&nbsp;machine&nbsp;we&nbsp;want&nbsp;to&nbsp;get&nbsp;it's&nbsp;start&nbsp;time<br>
returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Time&nbsp;object</tt></dd></dl>
 <dl><dt><a name="-getStopTime"><strong>getStopTime</strong></a>(plc)</dt><dd><tt>Retrieves&nbsp;the&nbsp;time&nbsp;that&nbsp;each&nbsp;machine&nbsp;has&nbsp;been&nbsp;in&nbsp;stop&nbsp;state.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;plc:&nbsp;plc&nbsp;object<br>
&nbsp;<br>
returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Dictionary&nbsp;with&nbsp;each&nbsp;machine's&nbsp;stop&nbsp;time.</tt></dd></dl>
 <dl><dt><a name="-getStops"><strong>getStops</strong></a>(plc)</dt><dd><tt>Retrieves&nbsp;the&nbsp;number&nbsp;of&nbsp;times&nbsp;each&nbsp;machine&nbsp;has&nbsp;been&nbsp;in&nbsp;stop&nbsp;state.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;plc:&nbsp;plc&nbsp;object<br>
&nbsp;<br>
returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Dictionary&nbsp;with&nbsp;each&nbsp;machine's&nbsp;number&nbsp;of&nbsp;stop&nbsp;states.</tt></dd></dl>
 <dl><dt><a name="-getVelocities"><strong>getVelocities</strong></a>(plc, old_velocities)</dt><dd><tt>Retrieves&nbsp;in&nbsp;miliseconds&nbsp;the&nbsp;time&nbsp;between&nbsp;each&nbsp;hit&nbsp;of&nbsp;every&nbsp;machine&nbsp;and&nbsp;then<br>
it&nbsp;is&nbsp;converted&nbsp;to&nbsp;hits&nbsp;per&nbsp;minute.&nbsp;Also&nbsp;this&nbsp;function&nbsp;tells&nbsp;wether&nbsp;a&nbsp;machine<br>
is&nbsp;in&nbsp;stop&nbsp;state.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;plc:&nbsp;plc&nbsp;object<br>
&nbsp;&nbsp;&nbsp;&nbsp;old_velocities:&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;velocities&nbsp;of&nbsp;the&nbsp;last&nbsp;cycle<br>
&nbsp;<br>
returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;new_velocities:&nbsp;dictionary&nbsp;with&nbsp;each&nbsp;machine's&nbsp;velocity.<br>
&nbsp;&nbsp;&nbsp;&nbsp;in_stop_state:&nbsp;list&nbsp;with&nbsp;the&nbsp;key&nbsp;string&nbsp;of&nbsp;the&nbsp;machines&nbsp;in&nbsp;stop&nbsp;state.</tt></dd></dl>
 <dl><dt><a name="-gmtime"><strong>gmtime</strong></a>(...)</dt><dd><tt><a href="#-gmtime">gmtime</a>([seconds])&nbsp;-&gt;&nbsp;(tm_year,&nbsp;tm_mon,&nbsp;tm_mday,&nbsp;tm_hour,&nbsp;tm_min,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tm_sec,&nbsp;tm_wday,&nbsp;tm_yday,&nbsp;tm_isdst)<br>
&nbsp;<br>
Convert&nbsp;seconds&nbsp;since&nbsp;the&nbsp;Epoch&nbsp;to&nbsp;a&nbsp;time&nbsp;tuple&nbsp;expressing&nbsp;UTC&nbsp;(a.k.a.<br>
GMT).&nbsp;&nbsp;When&nbsp;'seconds'&nbsp;is&nbsp;not&nbsp;passed&nbsp;in,&nbsp;convert&nbsp;the&nbsp;current&nbsp;time&nbsp;instead.<br>
&nbsp;<br>
If&nbsp;the&nbsp;platform&nbsp;supports&nbsp;the&nbsp;tm_gmtoff&nbsp;and&nbsp;tm_zone,&nbsp;they&nbsp;are&nbsp;available&nbsp;as<br>
attributes&nbsp;only.</tt></dd></dl>
 <dl><dt><a name="-resetAKS"><strong>resetAKS</strong></a>(plc)</dt><dd><tt>Reset&nbsp;AKS&nbsp;variable&nbsp;of&nbsp;the&nbsp;plc</tt></dd></dl>
 <dl><dt><a name="-sleep"><strong>sleep</strong></a>(...)</dt><dd><tt><a href="#-sleep">sleep</a>(seconds)<br>
&nbsp;<br>
Delay&nbsp;execution&nbsp;for&nbsp;a&nbsp;given&nbsp;number&nbsp;of&nbsp;seconds.&nbsp;&nbsp;The&nbsp;argument&nbsp;may&nbsp;be<br>
a&nbsp;floating&nbsp;point&nbsp;number&nbsp;for&nbsp;subsecond&nbsp;precision.</tt></dd></dl>
 <dl><dt><a name="-storeData"><strong>storeData</strong></a>(cur, shift, stoptimes, stops, hits, machines_status, start_times)</dt><dd><tt>Uploads&nbsp;all&nbsp;the&nbsp;important&nbsp;production&nbsp;data&nbsp;to&nbsp;db&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;every&nbsp;shift&nbsp;with&nbsp;the&nbsp;date<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;cur:&nbsp;object&nbsp;that&nbsp;handles&nbsp;queries<br>
&nbsp;&nbsp;&nbsp;&nbsp;shift:&nbsp;number&nbsp;of&nbsp;shift&nbsp;(1:&nbsp;morning,&nbsp;2:&nbsp;evening,&nbsp;3:&nbsp;night)<br>
&nbsp;&nbsp;&nbsp;&nbsp;stoptimes:&nbsp;dictionary&nbsp;with&nbsp;the&nbsp;time&nbsp;of&nbsp;each&nbsp;machine&nbsp;being&nbsp;in&nbsp;stop&nbsp;state<br>
&nbsp;&nbsp;&nbsp;&nbsp;stops:&nbsp;dictionary&nbsp;withe&nbsp;the&nbsp;number&nbsp;of&nbsp;times&nbsp;each&nbsp;machine&nbsp;has&nbsp;been&nbsp;in&nbsp;stop&nbsp;state<br>
&nbsp;&nbsp;&nbsp;&nbsp;hits:&nbsp;dictionary&nbsp;with&nbsp;the&nbsp;actual&nbsp;production&nbsp;of&nbsp;each&nbsp;machine<br>
&nbsp;&nbsp;&nbsp;&nbsp;machine_status:&nbsp;auxiliar&nbsp;boolean&nbsp;dictionary&nbsp;of&nbsp;each&nbsp;machine's&nbsp;"has&nbsp;started&nbsp;working"<br>
&nbsp;&nbsp;&nbsp;&nbsp;start_times:&nbsp;dictionary&nbsp;with&nbsp;each&nbsp;machine's&nbsp;start&nbsp;times.</tt></dd></dl>
 <dl><dt><a name="-strftime"><strong>strftime</strong></a>(...)</dt><dd><tt><a href="#-strftime">strftime</a>(format[,&nbsp;tuple])&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Convert&nbsp;a&nbsp;time&nbsp;tuple&nbsp;to&nbsp;a&nbsp;string&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specification.<br>
See&nbsp;the&nbsp;library&nbsp;reference&nbsp;manual&nbsp;for&nbsp;formatting&nbsp;codes.&nbsp;When&nbsp;the&nbsp;time&nbsp;tuple<br>
is&nbsp;not&nbsp;present,&nbsp;current&nbsp;time&nbsp;as&nbsp;returned&nbsp;by&nbsp;localtime()&nbsp;is&nbsp;used.<br>
&nbsp;<br>
Commonly&nbsp;used&nbsp;format&nbsp;codes:<br>
&nbsp;<br>
%Y&nbsp;&nbsp;Year&nbsp;with&nbsp;century&nbsp;as&nbsp;a&nbsp;decimal&nbsp;number.<br>
%m&nbsp;&nbsp;Month&nbsp;as&nbsp;a&nbsp;decimal&nbsp;number&nbsp;[01,12].<br>
%d&nbsp;&nbsp;Day&nbsp;of&nbsp;the&nbsp;month&nbsp;as&nbsp;a&nbsp;decimal&nbsp;number&nbsp;[01,31].<br>
%H&nbsp;&nbsp;Hour&nbsp;(24-hour&nbsp;clock)&nbsp;as&nbsp;a&nbsp;decimal&nbsp;number&nbsp;[00,23].<br>
%M&nbsp;&nbsp;Minute&nbsp;as&nbsp;a&nbsp;decimal&nbsp;number&nbsp;[00,59].<br>
%S&nbsp;&nbsp;Second&nbsp;as&nbsp;a&nbsp;decimal&nbsp;number&nbsp;[00,61].<br>
%z&nbsp;&nbsp;Time&nbsp;zone&nbsp;offset&nbsp;from&nbsp;UTC.<br>
%a&nbsp;&nbsp;Locale's&nbsp;abbreviated&nbsp;weekday&nbsp;name.<br>
%A&nbsp;&nbsp;Locale's&nbsp;full&nbsp;weekday&nbsp;name.<br>
%b&nbsp;&nbsp;Locale's&nbsp;abbreviated&nbsp;month&nbsp;name.<br>
%B&nbsp;&nbsp;Locale's&nbsp;full&nbsp;month&nbsp;name.<br>
%c&nbsp;&nbsp;Locale's&nbsp;appropriate&nbsp;date&nbsp;and&nbsp;time&nbsp;representation.<br>
%I&nbsp;&nbsp;Hour&nbsp;(12-hour&nbsp;clock)&nbsp;as&nbsp;a&nbsp;decimal&nbsp;number&nbsp;[01,12].<br>
%p&nbsp;&nbsp;Locale's&nbsp;equivalent&nbsp;of&nbsp;either&nbsp;AM&nbsp;or&nbsp;PM.<br>
&nbsp;<br>
Other&nbsp;codes&nbsp;may&nbsp;be&nbsp;available&nbsp;on&nbsp;your&nbsp;platform.&nbsp;&nbsp;See&nbsp;documentation&nbsp;for<br>
the&nbsp;C&nbsp;library&nbsp;strftime&nbsp;function.</tt></dd></dl>
 <dl><dt><a name="-time"><strong>time</strong></a>(...)</dt><dd><tt><a href="#-time">time</a>()&nbsp;-&gt;&nbsp;floating&nbsp;point&nbsp;number<br>
&nbsp;<br>
Return&nbsp;the&nbsp;current&nbsp;time&nbsp;in&nbsp;seconds&nbsp;since&nbsp;the&nbsp;Epoch.<br>
Fractions&nbsp;of&nbsp;a&nbsp;second&nbsp;may&nbsp;be&nbsp;present&nbsp;if&nbsp;the&nbsp;system&nbsp;clock&nbsp;provides&nbsp;them.</tt></dd></dl>
 <dl><dt><a name="-uploadData"><strong>uploadData</strong></a>(cur, starts, stoptimes, stops, velocities, hits, hour, machines_status, start_times, in_stop_state)</dt><dd><tt>Uploads&nbsp;all&nbsp;the&nbsp;general&nbsp;data&nbsp;of&nbsp;every&nbsp;machine&nbsp;to&nbsp;the&nbsp;db&nbsp;every&nbsp;cycle.<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;cur:&nbsp;object&nbsp;that&nbsp;handles&nbsp;queries<br>
&nbsp;&nbsp;&nbsp;&nbsp;starts:&nbsp;dictionary&nbsp;with&nbsp;the&nbsp;boolean&nbsp;state&nbsp;of&nbsp;each&nbsp;machine<br>
&nbsp;&nbsp;&nbsp;&nbsp;stoptimes:&nbsp;dictionary&nbsp;with&nbsp;the&nbsp;time&nbsp;of&nbsp;each&nbsp;machine&nbsp;being&nbsp;in&nbsp;stop&nbsp;state<br>
&nbsp;&nbsp;&nbsp;&nbsp;stops:&nbsp;dictionary&nbsp;withe&nbsp;the&nbsp;number&nbsp;of&nbsp;times&nbsp;each&nbsp;machine&nbsp;has&nbsp;been&nbsp;in&nbsp;stop&nbsp;state<br>
&nbsp;&nbsp;&nbsp;&nbsp;velocities:&nbsp;dictionary&nbsp;with&nbsp;the&nbsp;actual&nbsp;velocities&nbsp;of&nbsp;each&nbsp;machine<br>
&nbsp;&nbsp;&nbsp;&nbsp;hits:&nbsp;dictionary&nbsp;with&nbsp;the&nbsp;actual&nbsp;production&nbsp;of&nbsp;each&nbsp;machine<br>
&nbsp;&nbsp;&nbsp;&nbsp;hour:&nbsp;the&nbsp;time&nbsp;in&nbsp;which&nbsp;the&nbsp;actual&nbsp;cycle&nbsp;is&nbsp;being&nbsp;running<br>
&nbsp;&nbsp;&nbsp;&nbsp;machine_status:&nbsp;auxiliar&nbsp;boolean&nbsp;dictionary&nbsp;of&nbsp;each&nbsp;machine's&nbsp;"has&nbsp;started&nbsp;working"&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;start_times:&nbsp;dictionary&nbsp;with&nbsp;each&nbsp;machine's&nbsp;start&nbsp;times.<br>
&nbsp;&nbsp;&nbsp;&nbsp;in_stop_state:&nbsp;list&nbsp;with&nbsp;the&nbsp;machines&nbsp;that&nbsp;currently&nbsp;are&nbsp;in&nbsp;stop&nbsp;state<br>
&nbsp;<br>
returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;machine_status:&nbsp;auxiliar&nbsp;dictionary&nbsp;updated&nbsp;with&nbsp;each&nbsp;machine's&nbsp;"has&nbsp;started&nbsp;working"&nbsp;boolean&nbsp;state<br>
&nbsp;&nbsp;&nbsp;&nbsp;start_times:&nbsp;dictionary&nbsp;with&nbsp;each&nbsp;machine's&nbsp;start&nbsp;times&nbsp;updated.</tt></dd></dl>
 <dl><dt><a name="-uploadVelocities"><strong>uploadVelocities</strong></a>(cur, velocities, hour)</dt><dd><tt>Uploads&nbsp;the&nbsp;actual&nbsp;velocity&nbsp;of&nbsp;each&nbsp;machine&nbsp;with&nbsp;a&nbsp;time&nbsp;stamp&nbsp;to&nbsp;the&nbsp;db<br>
&nbsp;<br>
args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;cur:&nbsp;object&nbsp;that&nbsp;handles&nbsp;queries<br>
&nbsp;&nbsp;&nbsp;&nbsp;velocities:&nbsp;dictionary&nbsp;with&nbsp;each&nbsp;machine's&nbsp;velocities<br>
&nbsp;&nbsp;&nbsp;&nbsp;hour:&nbsp;actual&nbsp;cycle&nbsp;local&nbsp;time</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>BRecvTimeout</strong> = 13<br>
<strong>BSendTimeout</strong> = 12<br>
<strong>DstRef</strong> = 8<br>
<strong>KeepAliveTime</strong> = 15<br>
<strong>LocalPort</strong> = 1<br>
<strong>MaxClients</strong> = 11<br>
<strong>PDURequest</strong> = 10<br>
<strong>PingTimeout</strong> = 3<br>
<strong>RecoveryTime</strong> = 14<br>
<strong>RecvTimeout</strong> = 5<br>
<strong>RemotePort</strong> = 2<br>
<strong>S7AreaCT</strong> = 28<br>
<strong>S7AreaDB</strong> = 132<br>
<strong>S7AreaMK</strong> = 131<br>
<strong>S7AreaPA</strong> = 130<br>
<strong>S7AreaPE</strong> = 129<br>
<strong>S7AreaTM</strong> = 29<br>
<strong>S7WLBit</strong> = 1<br>
<strong>S7WLByte</strong> = 2<br>
<strong>S7WLCounter</strong> = 28<br>
<strong>S7WLDWord</strong> = 6<br>
<strong>S7WLReal</strong> = 8<br>
<strong>S7WLTimer</strong> = 29<br>
<strong>S7WLWord</strong> = 4<br>
<strong>SendTimeout</strong> = 4<br>
<strong>SrcRef</strong> = 7<br>
<strong>SrcTSap</strong> = 9<br>
<strong>WorkInterval</strong> = 6<br>
<strong>areas</strong> = {'PA': 130, 'PE': 129, 'DB': 132, 'MK': 131, 'TM': 29, 'CT': 28}<br>
<strong>block_types</strong> = {'DB': c_int(65), 'FC': c_int(67), 'SFC': c_int(...B': c_int(66), 'FB': c_int(69), 'SFB': c_int(70)}<br>
<strong>buffer_size</strong> = 65536<br>
<strong>cpu_statuses</strong> = {0: 'S7CpuStatusUnknown', 4: 'S7CpuStatusStop', 8: 'S7CpuStatusRun'}<br>
<strong>logger</strong> = &lt;logging.Logger object&gt;<br>
<strong>mkEvent</strong> = 0<br>
<strong>mkLog</strong> = 1<br>
<strong>param_types</strong> = {1: &lt;class 'ctypes.c_ushort'&gt;, 2: &lt;class 'ctypes...ss 'ctypes.c_uint'&gt;, 15: &lt;class 'ctypes.c_uint'&gt;}<br>
<strong>server_areas</strong> = {'PA': 1, 'PE': 0, 'DB': 5, 'MK': 2, 'TM': 4, 'CT': 3}<br>
<strong>server_statuses</strong> = {0: 'SrvStopped', 1: 'SrvRunning', 2: 'SrvError'}<br>
<strong>srvAreaCT</strong> = 3<br>
<strong>srvAreaDB</strong> = 5<br>
<strong>srvAreaMK</strong> = 2<br>
<strong>srvAreaPA</strong> = 1<br>
<strong>srvAreaPE</strong> = 0<br>
<strong>srvAreaTM</strong> = 4<br>
<strong>wordlen_to_ctypes</strong> = {1: &lt;class 'ctypes.c_short'&gt;, 2: &lt;class 'ctypes.... 'ctypes.c_short'&gt;, 29: &lt;class 'ctypes.c_short'&gt;}</td></tr></table>
</body></html>